/* ==UserStyle==
@name Dark Instagram by Mew
@description A dark userstyle for Instagram.
@namespace https://gitlab.com/vednoc/dark-instagram
@homepageURL https://gitlab.com/vednoc/dark-instagram
@updateURL https://gitlab.com/vednoc/dark-instagram/raw/master/instagram.user.css
@version 1.0.0
@author vednoc
@license MIT
@preprocessor uso

@var color dark "Dark" #333333
@var color darker "Darker" #222222
@var color light "Light" #c1c1c1
@var color lighter "Lighter" #e9e9e9
@var color accent "Accent" #7289da
@var color shadow "Shadow" rgba(0,0,0,0.07)
==/UserStyle== */


@-moz-document domain("instagram.com") {
  :root {
    --dark: /*[[dark]]*/;
    --darker: /*[[darker]]*/;
    --light: /*[[light]]*/;
    --lighter: /*[[lighter]]*/;
    --accent: /*[[accent]]*/;
    --shadow: /*[[shadow]]*/;
  }

  body {
    color: var(--light) !important;
    background-color: var(--dark) !important; }

  /* Remove popups. */
  .K2AM_,
  .N8xpH {
    display: none; }

  /* Icons. */
  [class*="glyphsSprite"],
  nav [class*="coreSprite"],
  header[class*="PRIVATE"] [class*="logo"],
  [class*="coreSpriteClose"] {
    filter: invert(100%) !important; }

  /* Filled icons. */
  [class*="Heart__filled"],
  [class*="horizontal__filled"] {
    filter: invert(0%) !important; }


  /* Log/sign in. */
  .gr27e {
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }

  /* Input elements. */
  .gr27e input,
  .gr27e .WZdjL > div {
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }


  /* Footer. */
  footer {
    background-color: var(--darker) !important; }


  /* Navbar. */
  nav > div > div,
  header[class*="PRIVATE"] {
    /* box-shadow: 0px 0px 8px 0px var(--shadow); */
    border-color: var(--darker) !important;
    background-color: var(--darker) !important; }

  /* Navbar behind. */
  section > nav {
    background-color: var(--dark) !important; }

  /* Broken page nav fix. */
  header[class*="PRIVATE"] * {
    color: var(--light) !important; }


  /* Search. */
  nav input,
  .Di7vw {
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }

  /* List. */
  nav .drKGC {
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }

  /* Items. */
  nav .drKGC a {
    padding: 0px 8px !important;
    border-color: transparent !important; }
  
  nav .drKGC a:hover,
  nav .drKGC .JvDyy {
    background: var(--darker) !important; }

  nav .drKGC a * {
    color: var(--light) !important; }


  /* Main content. */
  body,
  main {
    background-color: var(--dark) !important; }
  
  /* Add a profile photo. */
  main ._nx5in {
    box-shadow: 0 4px 16px 0 var(--shadow);
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }


  /* Posts. */
  main * div[style*="flex-direction: column;"] > article,
  main .ltEKP .QBXjJ {
    box-shadow: 0 4px 16px 0 var(--shadow);
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--darker) !important; }

  /* Usernames. */
  a, a:visited {
    transition: 200ms ease-out !important;
    color: var(--lighter) !important; }

  /* On event. */
  a:hover, span > a.notranslate:hover {
    color: var(--light) !important; }

  /* Accented ones. */
  span > a.notranslate {
    color: var(--accent) !important; }

  /* Likes. */
  .wwxN2,
  .zwZPW {
    background-color: var(--dark) !important; }

  /* Header. */
  ._914pk {
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--darker) !important; }

  /* Comment separator. */
  .sH9wk,
  .UE9AK {
    border-color: var(--darker) !important; }

  /* Add a comment. */
  textarea, .y9v3U {
    color: var(--lighter) !important;
    border-color: var(--darker) !important;
    background-color: transparent !important; }


  /* Post in lightbox. */
  ._6oveC {
    /* TODO: add shadow/borders */
    box-shadow: 0 0 0 2px var(--shadow) !important;
    color: var(--light) !important;
    background-color: var(--dark) !important; }

  /* Image background. */
  .JyscU ._97aPb {
    background-color: var(--dark) !important; }

  /* Comment separator. */
  .JyscU .UE9AK,
  .JyscU .Slqrh {
    border-color: var(--darker) !important; }
  
  /* Video views. */
  ._9Ytll {
    color: var(--light) !important; }


  /* Popup. */
  .vJRqr {
    border-color: var(--dark) !important;
    background-color: var(--dark) !important; }

  /* Carets. */
  ._690y5 {
    border-color: var(--darker) !important;
    background-color: var(--darker) !important; }

  .t3fjj {
    border-color: var(--dark) transparent transparent !important; }


  /* Activities. */
  .vtWDf {
    box-shadow: 0 4px 16px 0 var(--shadow) !important;
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }

  /* Text color. */
  time, .YFq-A *, .YFq-A {
    color: var(--light) !important; }

  .PUHRj::after {
    display: none !important; }

  /* Transparent wrapper. */
  .vtWDf .Fh4P2 {
    background: none !important; }

  /* Caret. */
  .hUQsm {
    box-shadow: 0 0 5px -1px var(--shadow) !important;
    border-color: var(--darker) !important;
    background-color: var(--darker) !important; }

  /* Caret color. */
  .T5hFd {
    border-color: transparent transparent var(--dark) !important; }


  /* Empty/private user profile. */
  .jju9v,
  ._4Kbb_ {
    box-shadow: 0 4px 16px 0 var(--shadow);
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }

  /* Text color. */
  ._4Kbb_ *,
  .-vDIg span,
  .mi0fW *,
  .d1qwI *,
  ._2Mpwl * {
    color: var(--light) !important; }

  /* Posts/saved. */
  .fx7hk {
    border-top-color: var(--darker) !important; }

  /* Active. */
  @media (min-width: 736px) {
    .T-jvg {
      border-top-color: var(--accent) !important;
    }
  }

  /* Tagged text color. */
  .olKGW,
  .ptjOt h2 {
    color: var(--light) !important; }

  
  /* Kill fade in stories. */
  .lXJWB {
    animation-duration: 0s !important; }


  /* Preload everything! */
  .WidCF, ._8VIOK, .u9F97, .eLAPa {
    background-image: none !important;
    background-color: var(--darker) !important; }

  /* Post header. */
  @media (min-width: 640px) {
    .KQA-S {
      border-color: var(--darker) !important;
      background-color: var(--darker) !important;
    }
  }

  /* Avatar. */
  .OzqB_ {
    background-color: var(--dark) !important; }

  /* Text placeholder. */
  .WidCF, ._8VIOK, .u9F97 {
    background-color: var(--dark) !important; }


  /* User profile text color. */
  .g47SY,
  .zwlfE h1 {
    color: var(--lighter); }

  /* Dimmer text. */
  .-nal3, .-vDIg span:nth-child(2) {
    color: var(--light) !important; }


  /* Following/followers modal. */
  .HYpXt,
  .j6cq2 {
    background-color: var(--dark) !important; }

  /* Header. */
  .t48Bo {
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--darker) !important; }

  /* Unneeded background. */
  .YHaCL {
    background: none !important; }
  
  /* Items. */
  .NroHT {
    border-color: var(--darker) !important; }

  /* Unneeded borders. */
  @media (min-width: 736px) {
    ._1xe_U,
    .u_1x6 {
      border-radius: 0 !important;
      border: none !important;
    }
  }


  /* Buttons. */
  button {
    color: var(--light) !important; }

  .-fzfL {
    transition: 200ms ease-in-out;
    color: var(--light) !important;
    border-color: var(--darker) !important;
    background-color: var(--darker) !important; }

  /* Following. */
  .jIbKX,
  .m4t9r.jIbKX {
    color: var(--lighter) !important;
    border-color: var(--accent) !important;
    background: var(--accent) !important; }

  /* On event. */
  .-fzfL:hover {
    background-color: var(--dark) !important; }


  /* User settings modal. */
  .pbNvD {
    border-radius: .5rem !important;
    background-color: var(--dark) !important; }

  /* Buttons. */
  .pbNvD button {
    transition: 200ms ease !important;
    color: var(--light) !important;
    border-color: var(--darker) !important; }

  /* On event. */
  .pbNvD button:hover {
    color: var(--lighter) !important;
    background-color: var(--darker) !important; }


  /* Suggested/discover section. */
  .NP414,
  .t0fbY {
    border-color: var(--darker) !important;
    background: var(--dark) !important; }

  @media (min-width: 736px) {
    .NP414 {
      border-color: var(--darker) !important;
      box-shadow: 0 4px 16px 0 var(--shadow) !important;
    }
  }

  /* Items. */
  .YQf7h {
    border-color: var(--darker) !important;
    background: var(--darker) !important; }


  /* Settings. */
  .BvMHM {
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }

    /* Sidebar. */
    .BvMHM > ul {
      border-right-color: var(--darker) !important; }

      /* Active. */
      .-HRM-,
      .h-aRd:hover {
        border-left-color: var(--accent) !important; }
    
    /* Items on event. */
    .BvMHM > ul > li:hover a {
      background-color: var(--darker) !important; }

    /* Settings colors. */
    .BvMHM form input,
    .BvMHM article * {
      color: var(--light) !important;
      border-color: var(--darker) !important; }

      /* Text color. */
      .BvMHM form aside,
      .BvMHM h1 {
        color: var(--lighter) !important; }

    /* Checkmarks. */
    ._9WdVC:checked~.D7R7L::before {
      border-bottom-color: var(--accent);
      border-left-color: var(--accent); }


  /* TODO: mobile support */
  /* Mobile navbar/topbar. */
  ._4pxed, ._sq5zx, ._f4a0g {
    box-shadow: 0 0 16px 0 var(--shadow) !important;
    background-color: var(--darker) !important; }

  /* Extra stuff. */
  ._4pxed::before, ._sq5zx::before {
    display: none !important; }


  /* Stories. */
  ._asnzw {
    box-shadow: 0 4px 16px 0 var(--shadow) !important;
    border-color: var(--darker) !important;
    background-color: var(--dark) !important; }

  .COOzN hr,
  .aD2cN::after {
    display: none !important; }

  /* Activities. */
  ._2l0ao {
    background-color: var(--dark) !important; }

  ::-webkit-scrollbar {
    background: var(--shadow) !important; }
  ::-webkit-scrollbar-thumb {
    background: var(--darker) !important; }
}
